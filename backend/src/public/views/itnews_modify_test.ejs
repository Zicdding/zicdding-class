<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modify IT News</title>
</head>
<body>
    <form id="itNewsForm">
        <label for="itNewsTitle">itNewsTitle:</label>
        <input type="text" id="itNewsTitle" name="itNewsTitle" required />
        <label for="itNewsType">itNewsType:</label>
        <input type="text" id="itNewsType" name="itNewsType" required />
        <label for="itNewsPostion">itNewsPostion:</label>
        <input type="text" id="itNewsPostion" name="itNewsPostion" required />
        <label for="reward">reward:</label>
        <input type="text" id="reward" name="reward" required />
        <label for="rewardConfirmYn">rewardConfirmYn:</label>
        <input type="text" id="rewardConfirmYn" name="rewardConfirmYn" required />
        <label for="startDate">startDate:</label>
        <input type="date" id="startDate" name="startDate" required />
        <label for="endDate">endDate:</label>
        <input type="date" id="endDate" name="endDate" required />
        <label for="itNewsTarget">itNewsTarget:</label>
        <input type="text" id="itNewsTarget" name="itNewsTarget" required />
        <label for="itNewsUrl">itNewsUrl:</label>
        <input type="text" id="itNewsUrl" name="itNewsUrl" required />
        <label for="itNewsContent">itNewsContent:</label>
        <textarea id="itNewsContent" name="itNewsContent" required></textarea>
        <button type="submit">Modify IT News</button>
    </form>

    <script>
        // JavaScript를 사용하여 PATCH 요청을 전송합니다.
        document.getElementById('itNewsForm').addEventListener('submit', function(event) {
            event.preventDefault(); // 기본 폼 제출 동작 방지

            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());

            fetch('/api/v1/itNews/modify', {
                method: 'PATCH', // PATCH 메서드 사용
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                console.log('Success:', result);
                alert('IT 뉴스가 성공적으로 수정되었습니다!');
            })
            .catch(error => {
                console.error('Error:', error);
                alert('수정 중 오류가 발생했습니다.');
            });
        });
    </script>
</body>
</html>
